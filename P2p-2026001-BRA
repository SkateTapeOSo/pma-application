<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>2026 Lifetime PMA-to-PMA Membership Application — Wizard</title>
  <style>
    /* keep existing styles unchanged */
    .thankyou{
      display:none; text-align:center; font-size:16px; font-weight:600; color:#47d16a; margin:20px 0;
      opacity:0; transition:opacity 1s ease;
    }
    .thankyou.show{display:block; opacity:1;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <header class="hero">
        <div class="kicker">Bruce Royal Associations</div>
        <h1>2026 Lifetime Membership — PMA-to-PMA Application</h1>
        <p class="sub">Walkthrough wizard (like EIN/SSA style). Autosaves to your browser. Print or submit to your endpoint.</p>
      </header>

      <!-- wizard content remains the same -->

      <div id="thankyou" class="thankyou">Thank you for submitting your application!</div>

    </div>
  </div>

  <script>
    // (keep all JS as before)

    const SUBMIT_URL = 'https://formspree.io/f/xpwjbrpy';

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      showErrors();
      if(!form.checkValidity()) return;
      const data = Object.fromEntries(new FormData(form).entries());
      try{
        submitBtn.disabled = true; submitBtn.textContent = 'Submitting…';
        const res = await fetch(SUBMIT_URL, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(data)
        });
        if(!res.ok) throw new Error('HTTP '+res.status);
        // Fade in thank you
        const ty = document.getElementById('thankyou');
        ty.classList.add('show');
        setTimeout(()=>{ ty.classList.remove('show'); }, 6000); // fade out after 6s
      }catch(err){
        alert('Submission failed. Please email your saved PDF/JSON to support@bruceroyaltrust.services');
      }finally{
        submitBtn.disabled = false; submitBtn.textContent = 'Submit to Endpoint';
      }
    });

    restore();
    setStep(0);
  </script>
</body>
</html>
